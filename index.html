<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slinger</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family:'San Francisco', 'Helvetica Neue', sans-serif; }
  body {
    background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRShy3qD_PsSDGERNUhXpV-EQI5AYPuubtMLw&s') no-repeat center center fixed;
    background-size: cover;
    height: 100vh;
    overflow: hidden;
  }

  /* Top Bar */
  #topbar {
    position: fixed;
    top:0; left:0; width:100%; height:30px;
    backdrop-filter: blur(15px);
    background: rgba(255,255,255,0.25);
    border-bottom: 1px solid rgba(255,255,255,0.2);
    display: flex; align-items: center;
    padding: 0 10px;
    z-index: 1000;
  }
  #topbar span { margin-right: 15px; color:#fff; font-size: 14px; }

  /* Dock */
  #dock {
    position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
    display: flex; backdrop-filter: blur(20px);
    background: rgba(255,255,255,0.2); border-radius: 20px;
    padding: 10px 20px; gap: 15px;
    border: 1px solid rgba(255,255,255,0.2);
  }
  .dock-icon {
    width: 50px; height: 50px; border-radius: 10px;
    background: rgba(255,255,255,0.5); backdrop-filter: blur(10px);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: transform 0.2s;
  }
  .dock-icon:hover { transform: scale(1.2); }

  /* Windows */
  .window {
    position: absolute; top:100px; left:100px;
    width: 400px; height: 300px;
    background: rgba(255,255,255,0.15); backdrop-filter: blur(20px);
    border-radius: 15px; border: 1px solid rgba(255,255,255,0.3);
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    display: flex; flex-direction: column;
    z-index: 10; overflow: hidden;
  }
  .window-header {
    height: 30px;
    background: rgba(255,255,255,0.25);
    display: flex; align-items: center; padding: 0 10px; cursor: grab;
  }
  .window-buttons { display: flex; gap: 8px; }
  .window-buttons div { width: 12px; height: 12px; border-radius: 50%; cursor: pointer; }
  .window-buttons div:nth-child(1){ background:red; }
  .window-buttons div:nth-child(2){ background:yellow; }
  .window-buttons div:nth-child(3){ background:green; }

  .window-content { flex:1; padding:10px; color:#fff; overflow:auto; }

  /* Text Editor */
  #text-editor textarea {
    width: 100%; height: 100%;
    background: rgba(255,255,255,0.1);
    border:none; color:#fff; resize:none; font-size:16px;
    padding:10px; border-radius:10px; backdrop-filter: blur(10px);
  }

  /* Calculator */
  #calculator { display:flex; flex-direction: column; height: 100%; }
  #calculator-display {
    flex:1; background: rgba(255,255,255,0.1); color:#fff;
    font-size:24px; display:flex; align-items:center; justify-content:right;
    padding:10px; border-radius:10px; margin-bottom:10px; backdrop-filter: blur(10px);
  }
  #calculator-buttons {
    display:grid; grid-template-columns: repeat(4, 1fr); gap:5px;
  }
  #calculator-buttons button {
    padding:15px; border:none; border-radius:10px; background: rgba(255,255,255,0.2);
    color:#fff; font-size:18px; cursor:pointer; backdrop-filter: blur(5px); transition: transform 0.1s;
  }
  #calculator-buttons button:hover { transform: scale(1.1); }

  /* File Explorer */
  #file-explorer .folders {
    display:flex; flex-wrap:wrap; gap:15px; padding:10px;
  }
  .folder, .file {
    width:80px; text-align:center; cursor:pointer;
  }
  .folder-icon, .file-icon {
    width:60px; height:60px; margin-bottom:5px;
    background: rgba(255,255,255,0.2); border-radius:10px;
    display:flex; align-items:center; justify-content:center;
    font-size:30px; backdrop-filter: blur(10px);
  }
  .folder:hover, .file:hover { transform: scale(1.1); transition: 0.2s; }
</style>
</head>
<body>

<div id="topbar">
  <span>Ô£ø Slinger</span>
  <span> Slinger OS</span>
</div>

<div id="dock">
  <div class="dock-icon" onclick="openWindow('text-editor')">üìù</div>
  <div class="dock-icon" onclick="openWindow('calculator')">üßÆ</div>
  <div class="dock-icon" onclick="openWindow('browser')">üåê</div>
  <div class="dock-icon" onclick="openWindow('file-explorer')">üìÅ</div>
  <div class="dock-icon" onclick="openWindow('minecraft')">üöΩ</div>
</div>

<!-- Text Editor -->
<div class="window" id="text-editor" style="display:none;">
  <div class="window-header">
    <div class="window-buttons">
      <div onclick="closeWindow('text-editor')"></div>
      <div onclick="minimizeWindow('text-editor')"></div>
      <div onclick="maximizeWindow('text-editor')"></div>
    </div>
    <span style="margin-left:10px;">Text Editor</span>
  </div>
  <div class="window-content">
    <textarea placeholder="Type something..."></textarea>
  </div>
</div>

<!-- Calculator -->
<div class="window" id="calculator" style="display:none;">
  <div class="window-header">
    <div class="window-buttons">
      <div onclick="closeWindow('calculator')"></div>
      <div onclick="minimizeWindow('calculator')"></div>
      <div onclick="maximizeWindow('calculator')"></div>
    </div>
    <span style="margin-left:10px;">Calculator</span>
  </div>
  <div class="window-content">
    <div id="calculator">
      <div id="calculator-display">0</div>
      <div id="calculator-buttons">
        <button onclick="calcPress('7')">7</button>
        <button onclick="calcPress('8')">8</button>
        <button onclick="calcPress('9')">9</button>
        <button onclick="calcPress('/')">/</button>
        <button onclick="calcPress('4')">4</button>
        <button onclick="calcPress('5')">5</button>
        <button onclick="calcPress('6')">6</button>
        <button onclick="calcPress('*')">*</button>
        <button onclick="calcPress('1')">1</button>
        <button onclick="calcPress('2')">2</button>
        <button onclick="calcPress('3')">3</button>
        <button onclick="calcPress('-')">-</button>
        <button onclick="calcPress('0')">0</button>
        <button onclick="calcPress('.')">.</button>
        <button onclick="calcPress('=')">=</button>
        <button onclick="calcPress('+')">+</button>
      </div>
    </div>
  </div>
</div>

<!-- Browser -->
<div class="window" id="browser" style="display:none;">
  <div class="window-header">
    <div class="window-buttons">
      <div onclick="closeWindow('browser')"></div>
      <div onclick="minimizeWindow('browser')"></div>
      <div onclick="maximizeWindow('browser')"></div>
    </div>
    <span style="margin-left:10px;">Browser</span>
  </div>
  <div class="window-content">
    <iframe src="../System/open.html" style="width:100%;height:100%;border:none;border-radius:10px;"></iframe>

  </div>
</div>


<!-- Browser -->
<div class="window" id="minecraft" style="display:none;">
  <div class="window-header">
    <div class="window-buttons">
      <div onclick="closeWindow('minecraft')"></div>
      <div onclick="minimizeWindow('minecraft')"></div>
      <div onclick="maximizeWindow('minecraft')"></div>
    </div>
    <span style="margin-left:10px;">Browser</span>
  </div>
  <div class="window-content">
    <iframe src="eaglercraft.html" style="width:100%;height:100%;border:none;border-radius:10px;"></iframe>
  </div>
</div>

<!-- File Explorer -->
<div class="window" id="file-explorer" style="display:none; width:500px; height:400px;">
  <div class="window-header">
    <div class="window-buttons">
      <div onclick="closeWindow('file-explorer')"></div>
      <div onclick="minimizeWindow('file-explorer')"></div>
      <div onclick="maximizeWindow('file-explorer')"></div>
    </div>
    <span style="margin-left:10px;">Finder</span>
  </div>
  <div class="window-content">
    <div class="folders">
      <div class="folder" onclick="openFolder('downloads')">
        <div class="folder-icon">üì•</div>
        <div>Downloads</div>
      </div>
    </div>
    <div id="downloads" style="margin-top:15px; display:none; flex-wrap:wrap;">
      <div class="file" onclick="downloadFile('EaglercraftX_1.8_u53_Offline_Signed.html')">
        <div class="file-icon">üìÑ</div>
        <div>EaglercraftX_1.8_u53_Offline_Signed</div>
      </div>
      <div class="file" onclick="downloadFile('sample.pdf')">
        <div class="file-icon">üìÑ</div>
        <div>sample.pdf</div>
      </div>
    </div>
  </div>
</div>

<script>
  // Window functions
  function openWindow(id){
    const w=document.getElementById(id);
    w.style.display='flex';
    w.style.zIndex=getTopZIndex();
  }
  function closeWindow(id){ document.getElementById(id).style.display='none'; }
  function minimizeWindow(id){ document.getElementById(id).style.display='none'; }
  function maximizeWindow(id){
    const w=document.getElementById(id);
    if(w.dataset.maximized!=='true'){
      w.dataset.prevTop=w.style.top; w.dataset.prevLeft=w.style.left;
      w.dataset.prevWidth=w.style.width; w.dataset.prevHeight=w.style.height;
      w.style.top='0'; w.style.left='0'; w.style.width='100%'; w.style.height='100%';
      w.dataset.maximized='true';
    }else{
      w.style.top=w.dataset.prevTop; w.style.left=w.dataset.prevLeft;
      w.style.width=w.dataset.prevWidth; w.style.height=w.dataset.prevHeight;
      w.dataset.maximized='false';
    }
  }
  function getTopZIndex(){
    let max=10;
    document.querySelectorAll('.window').forEach(w=>{
      const z=parseInt(w.style.zIndex)||10; if(z>max) max=z;
    });
    return max+1;
  }

  // Draggable windows
  let dragTarget=null, offsetX=0, offsetY=0;
  document.querySelectorAll('.window-header').forEach(header=>{
    header.addEventListener('mousedown', (e)=>{
      dragTarget=header.parentElement;
      offsetX=e.clientX-dragTarget.offsetLeft;
      offsetY=e.clientY-dragTarget.offsetTop;
      dragTarget.style.zIndex=getTopZIndex();
    });
  });
  document.addEventListener('mousemove', (e)=>{
    if(dragTarget){
      dragTarget.style.left=(e.clientX-offsetX)+'px';
      dragTarget.style.top=(e.clientY-offsetY)+'px';
    }
  });
  document.addEventListener('mouseup', ()=>{ dragTarget=null; });

  // Calculator
  let calcInput='';
  function calcPress(val){
    const display=document.getElementById('calculator-display');
    if(val==='='){
      try{ calcInput=eval(calcInput).toString(); }catch{ calcInput='Error'; }
    }else{ calcInput+=val; }
    display.innerText=calcInput||'0';
  }

  // File Explorer
  function openFolder(name){
    document.getElementById('downloads').style.display = name==='downloads'?'flex':'none';
  }
  function downloadFile(fileName){
    // Reliable download function
    const a = document.createElement('a');
    a.href = fileName;       // File must exist in same folder as HTML
    a.download = fileName;   // Sets downloaded filename
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
  }
</script>
</body>
</html>
